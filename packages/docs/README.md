# @machina/docs

The machina documentation site, built with [Astro Starlight](https://starlight.astro.build/). Serves at `https://ifandelse.github.io/machina.js/`.

## Local Development

From the repo root:

```sh
pnpm --filter @machina/docs dev
```

Serves at `http://localhost:4321/machina.js/`.

## Build & Preview

```sh
# Production build
pnpm --filter @machina/docs build

# Preview the production build locally
pnpm --filter @machina/docs preview
```

## Content Structure

Pages live in `src/content/docs/`, organized by section:

| Directory    | Purpose                               |
| ------------ | ------------------------------------- |
| `guide/`     | Conceptual docs and how-tos           |
| `api/`       | API reference (autogenerated sidebar) |
| `examples/`  | Example app walkthroughs              |
| `migration/` | Version migration guides              |

## Deployment

GitHub Actions handles deployment to GitHub Pages. On merge to `master`, the workflow:

1. Builds the docs site (`astro build`)
2. Builds each example app separately
3. Copies example app output into the docs build directory
4. Publishes the combined output to GitHub Pages

Example apps are not built as part of `astro build` â€” they're assembled during CI only.
